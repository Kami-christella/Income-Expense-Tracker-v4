@page
@model TaskForceApp.Pages.ExpenseTracker.AllIncomeModel
@{
}
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="~/lib/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="~/lib/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="btn btn-dark">
    <script>
        function filterInTable() {
            var input, filter, table, tr, td, i, j, value;
            input = document.getElementById("search");
            filter = input.value.toLowerCase();
            table = document.getElementById("dataTable");
            tr = table.getElementsByTagName("tr");

            for (i = 1; i < tr.length; i++) {
                tr[i].style.display = "none";
                td = tr[i].getElementsByTagName("td");
                for (j = 0; j < td.length; j++) {
                    if (td[j]) {
                        value = td[j].textContent || td[j].innerText;
                        if (value.toLowerCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                            break;
                        }
                    }
                }
            }

        }

    </script>
    <br />

    <div class="d-flex" style="margin-top: 20px;">
        <!-- Navigation Bar -->
        <div class="container btn btn-dark" style="width: 210px; height:30rem; margin-right: 30px; margin-left:5px;">
            <ul class="nav flex-column">

                <li class="nav-item" style="margin-bottom:10px; margin-top:50px;">
                    <a class="nav-link" href="/ExpenseTracker/AllIncome" style="color:aliceblue;">
                        <i class="bi bi-graph-up-arrow" style=" margin-right:5px;"></i> INCOME</a>
                </li>
                <li class="nav-item" style="margin-bottom:10px;">
                    <a class="nav-link" href="/ExpenseTracker/AllExpense"> <i class="bi bi-graph-down-arrow" style="margin-right:5px;"></i>EXPENSE</a>
                </li>
                <li class="nav-item" style="margin-bottom:10px;">
                    <a class="nav-link" href="/ExpenseTracker/index"> <i class="bi bi-stack" style="margin-right:5px;"></i>TRANSACTIONS</a>
                </li>
                <li class="nav-item" style="margin-bottom:10px; ">
                    <a class="nav-link active" href="/Dashboard/index"">
                        <i class="bi bi-person-circle" style="margin-right:5px;"></i>  DASHBOARD
                    </a>

                </li>

            </ul>
        </div>

        <!-- income -->
        <div style="flex-grow: 1; margin-top:10px;">

    <h2>Income Details</h2>

    <a class="btn btn-primary" href="/ExpenseTracker/AddIncome" style="margin-right:10px;">New Income</a>
   
            <a Download class="btn btn-info btn-sm" asp-page="IncomeInvoice">Download Report</a>
    </br>
    </br>
    <div class="row">
        <div class="col-md-12" style="margin-left:100px;">
            <form class="d-flex" method="get" action="/Account/SearchIncome">
                <input name="searchString" data-bs-theme="dark" onkeyup="filterInTable()" id="search" class="form-control me-1" placeholder="Search" aria-label="Search" />
                <br />     <!--button class="btn btn-dark" type="submit">Search</button-->
            </form>

        </div>
    </div>
    <br />

    <table class="table" id="dataTable" data-bs-theme="dark" style="margin-left:100px;">
        <thead>
            <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Income Amount</th>
                <th>Account</th>
                
                <th><i class="bi bi-menu-button-wide-fill"></i></th>



            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.ListIncome)
            {
                <tr>
                     <td>@item.Date</td>
                    <td>@item.description</td>
                    <td>@item.income</td>
                    <td>@item.account</td>


                    <td>
                                <a href="/ExpenseTracker/EditIncome?ID=@item.ID"><i class="bi bi-pencil-square"></i></a>
                                <a href="/ExpenseTracker/DeleteIncome?ID=@item.ID"><i class="bi bi-trash3-fill" style="color:red;"></i></a>

                      
                    </td>
                </tr>
            }


        </tbody>
    </table>
        </div>
    </div>
    <a class="btn btn-primary" href="/ExpenseTracker/Logout" style="margin-left:350px; margin-top:20px;">Logout</a>
</body>
</html>